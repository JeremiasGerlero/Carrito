<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>HM Servicios Informáticos</title>

        <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.3/dist/tailwind.min.css" rel="stylesheet">
        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/skeleton.css">
        <link rel="stylesheet" href="css/custom.css">
    </head>
    
<body class="bg-gray-800"> 
<header id="header" class="header">
    <div class="container">
        <div class="row">
            <div class="one columns">
                <h1>HM Servicios Informáticos</h1>
            </div>
            <div class="two columns u-pull-right">
                <ul>
                    <li class="submenu">
                            <img src="img/cart.png" id="img-carrito">
                            <div id="carrito">
                                    
                                    <table id="lista-carrito" class="u-full-width">
                                        <thead>
                                            <tr>
                                                <th>Imagen</th>
                                                <th>Nombre</th>
                                                <th>Precio</th>
                                                <th>Cantidad</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                        <tbody></tbody>
                                    </table>

                                    <a href="#" id="vaciar-carrito" class="button u-full-width">Vaciar Carrito</a>
                            </div>
                    </li>
                </ul>
            </div>
        </div> 
    </div>
</header>

<div id="hero">
    <div class="container">
        <div class="row">
            <div class="six columns">
                <div class="contenido-hero">
                </div>
            </div>
        </div> 
    </div>
</div>

<div id="lista-cursos" class="container">
    <h1 id="encabezado" class="encabezado">Productos Más Vendidos</h1>
    <div class="row">
        <div class="four columns">
            <div class="card">
                <img src="img/ryzen7.png" class="imagen-curso u-full-width">
                <div class="info-card">
                    <h4>Procesador Ryzen 7 7400 dedicado</h4>
                    <p>AMD</p>
                    <img src="img/estrellas.png">
                    <p class="precio">$800  <span class="u-pull-right ">$650</span></p>
                    <a href="#" class="u-full-width button-primary button input agregar-carrito" data-id="1">Agregar Al Carrito</a>
                </div>
            </div> <!--.card-->
        </div>

        <div class="four columns">
            <div class="card">
                <img src="img/quadcastpro.png" class="imagen-curso u-full-width">
                <div class="info-card">
                    <h4>Microfono HyperX Quadcast Pro</h4>
                    <p>HyperX</p>
                    <img src="img/estrellas.png">
                    <p class="precio">$500  <span class="u-pull-right ">$300</span></p>
                    <a href="#" class="u-full-width button-primary button input agregar-carrito" data-id="2">Agregar Al Carrito</a>
                </div>
            </div>
        </div>

        <div class="four columns">
            <div class="card">
                <img src="img/simoncabeza.jpg" class="imagen-curso u-full-width">
                <div class="info-card">
                    <h4>PC Escritorio</h4>
                    <p>Jeremias Gerlero</p>
                    <img src="img/estrellas.png">
                    <p class="precio">$800  <span class="u-pull-right ">$600</span></p>
                    <a href="#" class="u-full-width button-primary button input agregar-carrito" data-id="3">Agregar Al Carrito</a>
                </div>
            </div> <!--.card-->
        </div>
    </div> <!--.row-->
    <div class="row">
        <div class="four columns">
            <div class="card">
                <img src="img/auriculareswirelees.jpg" class="imagen-curso u-full-width">
                <div class="info-card">
                    <h4>Auriculares A50 Logitech Inalambricos</h4>
                    <p>Logitech</p>
                    <img src="img/estrellas.png">
                    <p class="precio">$250  <span class="u-pull-right ">$150</span></p>
                    <a href="#" class="u-full-width button-primary button input agregar-carrito" data-id="4">Agregar Al Carrito</a>
                </div>
            </div> <!--.card-->
        </div>
        <div class="four columns">
            <div class="card">
                <img src="img/gtx.png" class="imagen-curso u-full-width">
                <div class="info-card">
                    <h4>Tarjeta Gráfica GTX 1660TI</h4>
                    <p>NVIDIA</p>
                    <img src="img/estrellas.png">
                    <p class="precio">$500 <span class="u-pull-right ">$300</span></p>
                    <a href="#" class="u-full-width button-primary button input agregar-carrito" data-id="5">Agregar Al Carrito</a>
                </div>
            </div> <!--.card-->
        </div>
        <div class="four columns">
            <div class="card">
                <img src="img/ps5j.png" class="imagen-curso u-full-width">
                <div class="info-card">
                    <h4>Joystick PS5</h4>
                    <p>PlayStation</p>
                    <img src="img/estrellas.png">
                    <p class="precio">$200  <span class="u-pull-right ">$100</span></p>
                    <a href="#" class="u-full-width button-primary button input agregar-carrito" data-id="6">Agregar Al Carrito</a>
                </div>
            </div> 
        </div>
    </div> <!--.row-->
    <div class="row">
        <div class="four columns">
            <div class="card">
                <img src="img/k65mini.png" class="imagen-curso u-full-width">
                <div class="info-card">
                    <h4>Teclado Corsair K65 Mini</h4>
                    <p>Corsair</p>
                    <img src="img/estrellas.png">
                    <p class="precio">$150  <span class="u-pull-right ">$95</span></p>
                    <a href="#" class="u-full-width button-primary button input agregar-carrito" data-id="7">Agregar Al Carrito</a>
                </div>
            </div> 
        </div>
        <div class="four columns">
            <div class="card">
                <img src="img/mousepad.png" class="imagen-curso u-full-width">
                <div class="info-card">
                    <h4>MousePad Corsair Mm700 RGB Extended</h4>
                    <p>Corsair</p>
                    <img src="img/estrellas.png">
                    <p class="precio">$150  <span class="u-pull-right ">$115</span></p>
                    <a href="#" class="u-full-width button-primary button input agregar-carrito" data-id="8">Agregar Al Carrito</a>
                </div>
            </div> 
        </div>
        <div class="four columns">
            <div class="card">
                <img src="img/mouselogitech.jpg" class="imagen-curso u-full-width">
                <div class="info-card">
                    <h4>Mouse Logitech G203</h4>
                    <p>Logitech</p>
                    <img src="img/estrellas.png">
                    <p class="precio">$200  <span class="u-pull-right ">$100</span></p>
                    <a href="#" class="u-full-width button-primary button input agregar-carrito" data-id="9">Agregar Al Carrito</a>
                </div>
            </div> 
        </div>
    </div> 
    <div class="row">
        <div class="four columns">
            <div class="card">
                <img src="img/elgato.png" class="imagen-curso u-full-width">
                <div class="info-card">
                    <h4>Steam Deck ElGato</h4>
                    <p>ElGato</p>
                    <img src="img/estrellas.png">
                    <p class="precio">$500  <span class="u-pull-right ">$325</span></p>
                    <a href="#" class="u-full-width button-primary button input agregar-carrito" data-id="10">Agregar Al Carrito</a>
                </div>
            </div> 
        </div>
        <div class="four columns">
            <div class="card">
                <img src="img/cv550.png" class="imagen-curso u-full-width">
                <div class="info-card">
                    <h4>Fuente Corsair CV550 certificada</h4>
                    <p>Corsair</p>
                    <img src="img/estrellas.png">
                    <p class="precio">$450  <span class="u-pull-right ">$215</span></p>
                    <a href="#" class="u-full-width button-primary button input agregar-carrito" data-id="11">Agregar Al Carrito</a>
                </div>
            </div> 
        </div>
        <div class="four columns">
            <div class="card">
                <img src="img/samnsung144.png" class="imagen-curso u-full-width">
                <div class="info-card">
                    <h4>Monitor Samsung Odyssey 144hz</h4>
                    <p>Samnsung</p>
                    <img src="img/estrellas.png">
                    <p class="precio">$700  <span class="u-pull-right ">$450</span></p>
                    <a href="#" class="u-full-width button-primary button input agregar-carrito" data-id="12">Agregar Al Carrito</a>
                </div>
            </div> 
        </div>
    </div>
</div>  

<footer id="footer" class="footer">
    <div class="container">
        <div class="row">
            <div class="four columns">
                    <nav id="principal" class="menu">
                        <a class="enlace" href="#">Para tu Negocio</a>
                        <a class="enlace" href="#">Conviertete en Instructor</a>
                        <a class="enlace" href="#">Aplicaciones Móviles</a>
                        <a class="enlace" href="#">Soporte</a>
                        <a class="enlace" href="#">Temas</a>
                    </nav>
            </div>
            <div class="four columns">
                    <nav id="secundaria" class="menu">
                        <a class="enlace" href="#">¿Quienes Somos?</a>
                        <a class="enlace" href="#">Empleo</a>
                        <a class="enlace" href="#">Blog</a>
                    </nav>
            </div>
        </div>
    </div>
</footer>

<script src="js/app.js"></script>
<script>
    const carrito = [];
    const listaCarrito = document.getElementById('lista-carrito').getElementsByTagName('tbody')[0];
    
    function agregarAlCarrito(id, nombre, precio, imagen) {
        const producto = { id, nombre, precio, imagen, cantidad: 1 };
        const index = carrito.findIndex(item => item.id === id);

        if (index > -1) {
            carrito[index].cantidad++;
        } else {
            carrito.push(producto);
        }
        mostrarCarrito();
    }

    function mostrarCarrito() {
        listaCarrito.innerHTML = '';
        carrito.forEach(item => {
            const row = listaCarrito.insertRow();
            row.innerHTML = `
                <td><img src="${item.imagen}" class="h-12"></td>
                <td>${item.nombre}</td>
                <td>$${item.precio}</td>
                <td>${item.cantidad}</td>
                <td><button class="text-red-500" onclick="eliminarDelCarrito(${item.id})">Eliminar</button></td>
            `;
        });
        document.getElementById('carrito').classList.remove('hidden');
    }

    function eliminarDelCarrito(id) {
        const index = carrito.findIndex(item => item.id === id);
        if (index > -1) {
            carrito.splice(index, 1);
        }
        mostrarCarrito();
    }

    document.getElementById('vaciar-carrito').addEventListener('click', (e) => {
        e.preventDefault();
        carrito.length = 0;
        mostrarCarrito();
    });

    document.querySelectorAll('.agregar-carrito').forEach(boton => {
        boton.addEventListener('click', (e) => {
            e.preventDefault();
            const id = boton.getAttribute('data-id');
            const nombre = boton.closest('.card').querySelector('h4').innerText;
            const precio = parseFloat(boton.closest('.card').querySelector('.precio').innerText.replace(/[^0-9.-]+/g,""));
            const imagen = boton.closest('.card').querySelector('img').src;
            agregarAlCarrito(id, nombre, precio, imagen);
        });
    });
</script>
</body>
</html>
